<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honey Theatre</title>
    <link href="https://db.onlinewebfonts.com/c/413438edc16177b70627d108238ec05f?family=TRJN+DaVinci+Text"
        rel="stylesheet">

    <script src="https://cdn.userway.org/widget.js" data-account="AlXfe9YAX3"></script>
    <link rel="stylesheet" href="static/styles/mainstyle.css">
    <link rel="icon" type="image/png" href="/static/img/HoneyIcon.png">

    <meta property="og:title" content="Honey Theatre" />
    <meta property="og:description" content="A creative theatre company & community, championing bold storytellers of the global majority" />
    <meta property="og:image" content="https://honeytheatre.com/static/img/HoneyIcon.png" />
    <meta property="og:url" content="https://honeytheatre.com" />
    <meta property="og:type" content="website" />

    <style>
        .bee-animation-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            /* z-index: 10; */
            /* Below hero text but above video */
        }

        .bee-path {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 1000;
        }

        .theLine {
            fill: none;
            /* stroke: white; */
            stroke-width: 0.3px;
            stroke-dasharray: 5, 5;
            /* Dashed for visibility */
        }

        .bee {
            position: absolute;
            width: 100px;
            height: 100px;
            transform: translate(-50%, -50%);
            will-change: transform;
            z-index: 10000;
        }

        #page-load-poster-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 99999; /* Ensure it's on top */
            background-color: #000; /* Fallback color */
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }

        #page-load-poster-overlay.hidden {
            opacity: 0;
            pointer-events: none; /* Allow interaction with page below when hidden */
        }

        #page-load-poster-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>

<body>
    <div id="page-load-poster-overlay">
        <img id="page-load-poster-image" src="" alt="Loading background">
    </div>

    <!-- Bee container should be here, not inside video-container -->
    <div class="bee-animation-container">
        <svg class="bee-path" viewBox="0 0 100 2000" preserveAspectRatio="none">
            <path class="theLine" d="M40,2200 C135,100 75,300 50,400 S25,700 50,800 S75,1100 50,1200 S25,1500 50,1800"/>
        </svg>
        <img class="bee" src="static/img/beethree.png" alt="Flying bee" />
    </div>

    <audio id="curtainSound" preload="auto">
        <source src="static/audio/open curtain.mp3" type="audio/mpeg">
    </audio>




    <!-- Sticky video background -->
    <div class="video-container">
        <video autoplay muted loop playsinline class="video-background" preload="auto">
            <source src="static/video/loopback.mp4" type="video/mp4">
            <source src="static/video/loopback.webm" type="video/webm"> <!-- Add WebM fallback -->
            Your browser does not support the video tag.
        </video>
        <img src="" alt="Animated background" class="gif-background-fallback" style="display: none; width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; z-index: -2;">
    </div>



    <!-- Hero text over video -->
    <div class="hero-text orangetext">
        Honey<br>Theatre
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <a href="index.html"> <img src="static/img/Honey Logo small White.png" alt="Honey Theatre Logo"
                class="logo"></a>

        <!-- Mobile Menu Button - NEW ADDITION -->
        <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">
            <span class="menu-bar"></span>
            <span class="menu-bar"></span>
            <span class="menu-bar"></span>
        </button>

        <div class="nav-links">
            <a class="orangelink" href="about.html">About</a>
            <a class="orangelink" href="getinvolved.html">Get Involved</a>
            <a class="orangelink" href="events.html">Events</a>
            <a class="orangelink" href="news.html">News</a>
        </div>
        <button class="accessibility-toggle" aria-label="Toggle accessibility features">
            <span class="toggle-label">ACCESSIBILITY</span>
            <span class="toggle-switch">
                <span class="toggle-handle"></span>
            </span>
        </button>
    </nav>

    <div class="scroll-indicator">
        <!-- <span class="scroll-text">Scroll Down</span> -->
        <div class="scroll-arrow"></div>
    </div>

    <!-- Curtain effect -->
    <div class="curtain-container">
        <div class="curtain-left">
            <div class="curtain-content">
                <a class="maintext" href="events.html">Events</a>
                <a class="maintext" href="news.html">News</a>
            </div>
        </div>
        <div class="curtain-right">
            <div class="curtain-content">
                <a class="maintext" href="getinvolved.html">Get Involved</a>
                <a class="maintext" href="about.html">Find Out More</a>
            </div>
        </div>

    </div>
    <!-- <iframe class="newsletter-subsribe" src="/subscribeframe.html" title="Subscribe to newsletter"></iframe> -->

    <!-- Main content area (yellow background) -->
    <div class="main-content"></div>

    <!-- Newsletter Button -->
  <div class="newsletter-btn" id="newsletterBtn">
    Sign up to our newsletter!
    <button class="close-btn" id="closeNewsletterBtn">√ó</button>
  </div>

    <!-- Footer -->
    <footer>

        <div class="footer-container">
            <!-- Column 1: Logo -->
            <div class="footer-column">
                <a href="#" class="back-to-top" title="Back to Top">
                    <img src="static/img/Honey Logo small White.png" alt="Honey Theatre Logo" class="footer-logo">
                </a>
            </div>

            <!-- Column 2: Contact -->
            <div class="footer-column">
                <h3><a href="/contact.html">CONTACT US</a></h3>
                <p><a href="mailto:honeytheatreco@gmail.com">honeytheatreco@gmail.com</a></p>
                <div class="social-icons">
                    <a href="https://www.instagram.com/honey.theatre/" target="_blank" class="social-icon">
                        <img src="static/img/instagramWhite.png" alt="Instagram">
                    </a>
                    <a href="#" class="social-icon" target="_blank">
                        <img src="static/img/tiktoklogoWhite.png" alt="TikTok">
                    </a>
                </div>
            </div>

            <!-- Column 3: Support -->
            <div class="footer-column">
                <h3><a href="/support.html">SUPPORT US</a></h3>
                <p>¬© Honey Theatre 2025</p>
            </div>
        </div>

        <div class="footer-bottom">
            Website Designed & Developed by <a href="https://www.1-earth.world" target="_blank">1EARTH Productions</a>
            üåê
        </div>
    </footer>

    <script>// BACK 2 TOP BUTTON SCRIPT
        document.querySelector('.back-to-top').addEventListener('click', function (e) {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
      const newsletterBtn = document.getElementById('newsletterBtn');
      const closeBtn = document.getElementById('closeNewsletterBtn');



      // Show button after 3 seconds
      setTimeout(function () {
        console.log('Attempting to show newsletter button');
        if (!localStorage.getItem('newsletterClosed')) {
          console.log('Showing newsletter button');
          newsletterBtn.classList.add('visible');
        } else {
          console.log('Newsletter was previously closed by user');
        }
      }, 3000);

      // Close button functionality
      closeBtn.addEventListener('click', function (e) {
        e.stopPropagation(); // Prevent triggering the main button click
        newsletterBtn.classList.remove('visible');
        newsletterBtn.classList.add('hidden');

        // Store preference in localStorage
        localStorage.setItem('newsletterClosed', 'true');
      });

      // Main button click (could link to a signup page)
      newsletterBtn.addEventListener('click', function () {
        // Replace this with your actual signup functionality
        window.location.href = '/newsletter-signup.html';
      });
    });
  </script>

    <script>
        // Track UserWay widget state
        let userWayWidgetOpen = false;

        document.addEventListener('DOMContentLoaded', function () {
            const heroText = document.querySelector('.hero-text');
            const curtainLeft = document.querySelector('.curtain-left');
            const curtainRight = document.querySelector('.curtain-right');
            const curtainLinks = document.querySelectorAll('.curtain-content a');
            const accessibilityToggle = document.querySelector('.accessibility-toggle');

            let curtainsClosed = false;
            let soundPlayed = false;

            function handleScroll() {

                const scrollPosition = window.scrollY;
                const windowHeight = window.innerHeight;
                const triggerPoint = windowHeight * 0.5;
                const progress = Math.min(scrollPosition / triggerPoint, 1);

                // Play sound when curtains are mostly open (progress > 0.8)
                if (progress > 0.2 && !soundPlayed) {
                    // console.log('entered if statement')
                    const curtainSound = document.getElementById('curtainSound');
                    curtainSound.volume = 0.3; // Set appropriate volume
                    curtainSound.play().catch(e => console.log("Audio play failed:", e));
                    soundPlayed = true;
                } else if (progress <= 0.8) {
                    soundPlayed = false; // Reset to allow sound to play again
                }

                curtainLeft.style.transform = `translateX(${-100 + (progress * 100)}%)`;
                curtainRight.style.transform = `translateX(${100 - (progress * 100)}%)`;
                heroText.style.opacity = 1 - progress;



                if (progress > 0.3) {
                    curtainLinks.forEach(link => {
                        link.style.opacity = Math.min((progress - 0.3) / 0.2, 1);
                    });
                } else {
                    curtainLinks.forEach(link => {
                        link.style.opacity = 0;
                    });
                }

                if (progress >= 1 && !curtainsClosed) {
                    curtainsClosed = true;
                } else if (progress < 1 && curtainsClosed) {
                    curtainsClosed = false;
                }
            }

            // Handle accessibility toggle
            accessibilityToggle.addEventListener('click', function () {
                this.classList.toggle('active');
                userWayWidgetOpen = !userWayWidgetOpen;

                // Check if UserWay API is available
                if (typeof UserWay === 'object' && typeof UserWay.widgetToggle === 'function') {
                    UserWay.widgetToggle();
                } else {
                    // Fallback to previous methods if API is not ready or available
                    console.warn('UserWay API not available, attempting to interact via DOM/postMessage.');
                    const userwayButton = document.querySelector('#userwayAccessibilityIcon');
                    if (userwayButton) {
                        userwayButton.click();
                    }
                    else {
                        const userwayIframe = document.querySelector('#userway-widget iframe');
                        if (userwayIframe && userwayIframe.contentWindow) {
                            try {
                                userwayIframe.contentWindow.postMessage({
                                    action: userWayWidgetOpen ? 'open' : 'close',
                                    source: 'userway'
                                }, '*');
                            } catch (e) {
                                console.error('Error communicating with UserWay via postMessage:', e);
                                // No custom fallback class toggle here anymore
                            }
                        } else {
                            console.warn('UserWay widget elements not found. Cannot open widget.');
                            // No custom fallback class toggle here anymore
                        }
                    }
                }
            });

            function init() {
                curtainLeft.style.transform = 'translateX(-100%)';
                curtainRight.style.transform = 'translateX(100%)';
                heroText.style.opacity = 1;
                curtainLinks.forEach(link => link.style.opacity = 0);
                window.addEventListener('scroll', handleScroll);

                // Hide UserWay widget initially
                hideUserWayIcon();
            }

            function hideUserWayIcon() {
                const userwayIcon = document.querySelector('#userwayAccessibilityIcon');
                if (userwayIcon) {
                    userwayIcon.style.display = 'none';
                } else {
                    // Keep checking until we find it (max 10 times)
                    let checks = 0;
                    const checkInterval = setInterval(() => {
                        checks++;
                        const icon = document.querySelector('#userwayAccessibilityIcon');
                        if (icon || checks >= 10) {
                            clearInterval(checkInterval);
                            if (icon) icon.style.display = 'none';
                        }
                    }, 500);
                }
            }

            init();
        });
    </script>
    <script>
        // Mobile Menu Toggle
        document.addEventListener('DOMContentLoaded', function () {
          const mobileToggle = document.querySelector('.mobile-menu-toggle');
          const navbar = document.querySelector('.navbar');
          const mobileMenu = document.createElement('div');
          mobileMenu.className = 'mobile-menu-overlay';
      
          // Create mobile menu content
          mobileMenu.innerHTML = `
            <div class="mobile-menu-header">
              <img src="static/img/Honey Logo small White.png" alt="Honey Theatre Logo" class="mobile-menu-logo">
              <button class="mobile-menu-close" aria-label="Close menu">√ó</button>
            </div>
            <div class="mobile-menu-links">
              <a class="orangelink" href="about.html">About</a>
              <a class="orangelink" href="getinvolved.html">Get Involved</a>
              <a class="orangelink" href="events.html">Events</a>
              <a class="orangelink" href="news.html">News</a>
            </div>
          `;
      
          document.body.appendChild(mobileMenu);
          const closeButton = mobileMenu.querySelector('.mobile-menu-close');
      
          // Toggle menu
          mobileToggle.addEventListener('click', function () {
            mobileMenu.classList.add('active');
            document.body.style.overflow = 'hidden';
            navbar.style.opacity = '0';
            navbar.style.pointerEvents = 'none'; // Disable interactions
          });
      
          // Close menu
          closeButton.addEventListener('click', function () {
            mobileMenu.classList.remove('active');
            document.body.style.overflow = '';
            navbar.style.opacity = '1';
            navbar.style.pointerEvents = 'auto'; // Re-enable interactions
          });
      
          // Close menu when clicking on links
          const mobileLinks = mobileMenu.querySelectorAll('.mobile-menu-links a');
          mobileLinks.forEach(link => {
            link.addEventListener('click', function () {
              mobileMenu.classList.remove('active');
              document.body.style.overflow = '';
              navbar.style.opacity = '1';
              navbar.style.pointerEvents = 'auto'; // Re-enable interactions
            });
          });
        });
      </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const video = document.querySelector('.video-background');
            const gifFallback = document.querySelector('.gif-background-fallback');
            const gifSrc = 'static/video/loopback.gif'; // IMPORTANT: Replace with your actual GIF path

            let videoPlaybackStarted = false;
            let fallbackTriggered = false;

            function showGifFallback() {
                if (fallbackTriggered || videoPlaybackStarted) return;
                fallbackTriggered = true;

                console.log('Video autoplay failed or was blocked. Attempting to load GIF fallback.');
                gifFallback.src = gifSrc; // Start loading the GIF

                gifFallback.onload = function() {
                    console.log('GIF loaded, displaying fallback.');
                    video.style.display = 'none'; // Hide video (and its poster)
                    gifFallback.style.display = 'block'; // Show GIF
                    gifFallback.style.zIndex = '-1'; // Ensure it's above the original video z-index if video was -2, or adjust as needed
                };
                gifFallback.onerror = function() {
                    console.error('Failed to load GIF fallback.');
                    // GIF failed to load, poster remains visible as video is not hidden
                };
            }

            // Listen for the 'playing' event as a definitive sign video has started
            video.addEventListener('playing', () => {
                console.log('Video playback started.');
                videoPlaybackStarted = true;
            });

            // Listen for explicit errors on the video element
            video.addEventListener('error', (e) => {
                console.error('Video error encountered:', e);
                showGifFallback();
            });
            
            // Try to play video (required on some mobile devices)
            const playPromise = video.play();

            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // Autoplay started or will start via 'playing' event
                    console.log('Video play promise resolved.');
                    // The 'playing' event will set videoPlaybackStarted
                }).catch(error => {
                    console.error("Video play promise rejected:", error);
                    showGifFallback();
                });
            } else {
                // playPromise is undefined, older browser, or other issue with play() itself
                // Fallback to a timeout check as some browsers might not support playPromise
                // or might not reject it but still not play.
                setTimeout(() => {
                    if (!videoPlaybackStarted) {
                         // Check if video.paused is true if no 'playing' event was caught
                        if (video.paused) {
                            console.log('Video still paused after timeout, showing fallback.');
                            showGifFallback();
                        } else {
                            // This case should ideally be caught by 'playing' event
                            console.log('Video not paused after timeout but playing event not caught? Unlikely.');
                            videoPlaybackStarted = true; // Assume it's playing if not paused
                        }
                    }
                }, 1000); // Wait 1 second to see if video starts
            }
        });
    </script>

    <!-- Loading Screen -->
    <!-- Loading Screen -->
    <div id="loading-screen">
        <img src="static/img/Honey Logo small White.png" alt="Loading">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const curtainLinks = document.querySelectorAll('.curtain-content a.maintext');
            const loadingScreen = document.getElementById('loading-screen');
            const loadingDuration = 2000; // 2 seconds

            curtainLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetUrl = this.href;

                    // Fade in loading screen
                    loadingScreen.classList.add('active');

                    // After 1.8 seconds (allowing 0.2s for fade out), start fading out
                    setTimeout(() => {
                        loadingScreen.classList.remove('active');


                        window.location.href = targetUrl;

                    }, loadingDuration); // Subtract fade out time
                });
            });
        });
    </script>




    <!-- bee stuff -->
    <!-- GSAP Core -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
  gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);

  // Set initial bee state at the start of the path
  gsap.set(".bee", {
    xPercent: -50,
    yPercent: -50,
    transformOrigin: "center center",
    motionPath: {
      path: ".theLine",
      align: ".theLine",
      alignOrigin: [0.5, 0.5],
      start: 0,
      end: 0 // Start at beginning
    }
  });

  // Full page animation
  gsap.to(".bee", {
    motionPath: {
      path: ".theLine",
      align: ".theLine",
      alignOrigin: [0.5, 0.5],
      autoRotate: true+90,
      start: 0,
      end: 1
    },
    ease: "none",
    scrollTrigger: {
      trigger: "body",
      start: "top 90%", // Starts at very top
      end: "bottom bottom", // Ends at very bottom
      scrub: 0.5, // Smoother scrubbing
    //   markers: true // Turn on to debug
    }
  });
});
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const video = document.querySelector('.video-background');

            // Dynamically set poster based on screen width
            if (window.innerWidth < 768) { // Threshold for mobile, adjust as needed
                video.poster = 'static/img/background-mobile.jpg';
            } else {
                video.poster = 'static/img/background-desktop.jpg';
            }

            const gifFallback = document.querySelector('.gif-background-fallback');
            const gifSrc = 'static/video/loopback.gif'; // IMPORTANT: Replace with your actual GIF path

            let videoPlaybackStarted = false;
            let fallbackTriggered = false;

            function showGifFallback() {
                if (fallbackTriggered || videoPlaybackStarted) return;
                fallbackTriggered = true;

                console.log('Video autoplay failed or was blocked. Attempting to load GIF fallback.');
                gifFallback.src = gifSrc; // Start loading the GIF

                gifFallback.onload = function() {
                    console.log('GIF loaded, displaying fallback.');
                    video.style.display = 'none'; // Hide video (and its poster)
                    gifFallback.style.display = 'block'; // Show GIF
                    gifFallback.style.zIndex = '-1'; // Ensure it's above the original video z-index if video was -2, or adjust as needed
                };
                gifFallback.onerror = function() {
                    console.error('Failed to load GIF fallback.');
                    // GIF failed to load, poster remains visible as video is not hidden
                };
            }

            // Listen for the 'playing' event as a definitive sign video has started
            video.addEventListener('playing', () => {
                console.log('Video playback started.');
                videoPlaybackStarted = true;
            });

            // Listen for explicit errors on the video element
            video.addEventListener('error', (e) => {
                console.error('Video error encountered:', e);
                showGifFallback();
            });
            
            // Try to play video (required on some mobile devices)
            const playPromise = video.play();

            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // Autoplay started or will start via 'playing' event
                    console.log('Video play promise resolved.');
                    // The 'playing' event will set videoPlaybackStarted
                }).catch(error => {
                    console.error("Video play promise rejected:", error);
                    showGifFallback();
                });
            } else {
                // playPromise is undefined, older browser, or other issue with play() itself
                // Fallback to a timeout check as some browsers might not support playPromise
                // or might not reject it but still not play.
                setTimeout(() => {
                    if (!videoPlaybackStarted) {
                         // Check if video.paused is true if no 'playing' event was caught
                        if (video.paused) {
                            console.log('Video still paused after timeout, showing fallback.');
                            showGifFallback();
                        } else {
                            // This case should ideally be caught by 'playing' event
                            console.log('Video not paused after timeout but playing event not caught? Unlikely.');
                            videoPlaybackStarted = true; // Assume it's playing if not paused
                        }
                    }
                }, 1000); // Wait 1 second to see if video starts
            }
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const posterOverlay = document.getElementById('page-load-poster-overlay');
            const posterImage = document.getElementById('page-load-poster-image');

            if (posterOverlay && posterImage) {
                // Determine poster image based on screen width
                if (window.innerWidth < 768) { // Mobile threshold, adjust as needed
                    posterImage.src = 'static/img/background-mobile.jpg';
                } else { // Desktop
                    posterImage.src = 'static/img/background-desktop.jpg';
                }

                // Prevent scrolling while poster is visible
                document.body.style.overflow = 'hidden';

                setTimeout(() => {
                    posterOverlay.classList.add('hidden');

                    // Remove the overlay from layout after transition completes
                    posterOverlay.addEventListener('transitionend', function handleTransitionEnd() {
                        if (posterOverlay.style.display !== 'none') { // Check to prevent multiple calls if any
                            posterOverlay.style.display = 'none';
                            document.body.style.overflow = ''; // Restore scrolling
                            posterOverlay.removeEventListener('transitionend', handleTransitionEnd);
                        }
                    }, { once: true }); // { once: true } might not be needed if we remove listener explicitly or check display state

                }, 1500); // 1.5 seconds
            }
        });
    </script>

</body>

</html>